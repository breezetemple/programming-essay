# Code


## 浮点数

我们习惯把数字看做连续的(continuous)，任意给出两个有理数，都可以找出一个位于它们之间的数。
但是，数字计算机对连续数据处理却无能为力，因为二进制数据中的每一位非0即1,两者之间没有任何数。
这一特点决定了数字计算机只能处理离散(discrete)数据。
而二进制数据的位数直接决定了所能表示的离散数值的个数。

计算机对于小数的存储方式有两种：**定点格式(fixed-point format)**和**浮点格式(floating-point format)**

浮点格式是基于科学计数法，在**规范化二进制浮点数**中，小数点的左边通常只有一个`1`，除此之外没有其他数字。


**IEEE**浮点数标准定于了两种基本格式：4Byte的单精度格式和8Byte的双精度格式

1. 单精度格式：1bit符号位，8bit指数位，23bit有效数
2. 双精度格式：1bit符号位，11bit指数位，52bit有效数

浮点数的精度依赖于指数的值，有时浮点数可以精确到比美分还小的单位，但有时候精度甚至达不到美元。

例如在单精度浮点格式下：16777216 - 16777217之间的所有数将表示成同一个数:


<center> $$ 4B800000h $$ </center>

表示为：

<center> $$ 0 10010111 00000000000000000000000 $$ </center>

即：

<center> $$ 1.00000000000000000000000_2 * 2^{24} $$ </center>

下一个二进制浮点数可表示的最大有效数是`16777218`，即：

<center> $$ 1.00000000000000000000001_2 * 2^{24} $$ </center>


**当使用浮点数时，你会发现一些让人崩溃的小问题，这种问题在浮点数运算中时有发生，而且没有一套完整的解决方案**

